## 常见架构
常见站点架构层次：

1. 浏览器
2. 站点：访问后端，拼 HTML 页面。
3. 服务：向上游屏蔽业务细节。
4. 数据：数据存储，如 MySQL。

## 优化方向

1. 尽量将请求拦截在系统上游：请求量过大会压倒数据层，数据读写锁冲突严重，并发高响应慢。
2. 充分利用缓存（读多写少）。

## 优化细节

1. 客户端拦截
   1. 良好 UI 设计
   2. 客户端限制（禁止重复点击）
2. 站点层拦截
   1. 限制访问频率，
   2. 缓存返回页面。
   3. 动静分离，CDN。
3. 服务层
   1. 控制放到数据层的请求量，避免压垮数据层。
   2. 使用 MQ，自发拉取，控制处理量。
   3. 使用缓存，但要注意缓存穿透（反复查找不存在对象）、击穿（短时间内重复查找同一对象）、雪崩问题（缓存同时过期）。